<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>IVA-Benefits calculator</title>
  </head>
  <body>
    <div class="container">
      <form class="calculator-form">
        <label for="price">Le prix : </label>
        <input
          type="text"
          id="price"
          pattern="\d*"
          placeholder="Entrez que des chiffres SVP"
        />
        <input type="submit" id="submission" value="Calculer" />
      </form>

      <div class="result-container">
        <div class="finalPrice">
          <p>Le prix final est :</p>
          <p id="result">???</p>
        </div>

        <div class="Benefits">
          <p>Le bénéfice est :</p>
          <p id="benefits">???</p>
        </div>
      </div>
    </div>

    <script>
      function finalPrice(price) {
        price = parseInt(price, 10);
        let cabbas_price = 1000;
        let perfume_pshit_price = 100;
        let card_price = 150;
        let ct = price + cabbas_price + perfume_pshit_price + card_price;
        let pv = ct * (0.15 + 1);
        return { finalPrice: pv, cost: ct };
      }

      let submission = document.getElementById("submission");
      let result = document.getElementById("result");
      let benefits = document.getElementById("benefits");
      let price = document.getElementById("price");

      submission.addEventListener("click", (e) => {
        e.preventDefault();
        let price_input_value = document.getElementById("price").value;
        let final_price_result = finalPrice(price_input_value);
        let profit = final_price_result.finalPrice - final_price_result.cost;
        result.textContent = `${final_price_result.finalPrice.toFixed(2)} F CFA`;
        benefits.textContent = `${profit.toFixed(2)} F CFA`;
      });
    </script>
  </body>
</html>
